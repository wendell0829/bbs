{% extends "front/base.html" %}
{% from "common/macros.html" import static %}

{% block title %}
    发布帖子
{% endblock %}

{% block head %}
    <script src="{{ static('ueditor/ueditor.config.js') }}"></script>
    <script src="{{ static('ueditor/ueditor.all.min.js') }}"></script>
    <script src="{{ static("front/js/add_post.js") }}"></script>
    <style>
        #editor{
            height: 400px;
        }
        .form-btn{
            margin-top: 120px;
        }
        .form-btn button{
            width: 10%;
            display: block;
        }
        #home-btn{
            float: left;
        }
        #submit-btn{
            float: right;
        }
    </style>
    <script>
        return_home = function (event) {
            event.preventDefault();
            window.location = '/';
        }
    </script>
{% endblock %}

{% block content %}
<form action="" method="post">
    <div class="form-group">
        <div class="input-group">
            <span class="input-group-addon">标题</span>
            <input type="text" class="form-control" name="title">
        </div>
    </div>
    <div class="form-group">
        <div class="input-group">
            <span class="input-group-addon">板块</span>
            <select name="board_id" class="form-control">
                {% for board in boards %}
                    <option value="{{ board.id }}">{{ board.name }}</option>
                {% endfor %}
            </select>
        </div>
    </div>
    <div class="form-group">
        <script id="editor" type="text/plain"></script>
    </div>
    <div class="form-group form-btn">
        <button class="btn btn-default" id="home-btn" onclick="return_home()">返回首页</button>
        <button class="btn btn-danger" id="submit-btn">发布帖子</button>
    </div>
</form>
{% endblock %}